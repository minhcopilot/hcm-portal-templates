<style>
    .custom-by-portal-hcm .custom-left-new-tinnoibat {
        display: block;
        padding: 10px;
        bottom: 0;
    }
    .custom-by-portal-hcm .custom-left-new-tinnoibat {
        color: #02397A;
        font-family: 'Roboto';
        font-size: 18px;
        font-style: normal;
        font-weight: 600;
        line-height: 23.4px;
        letter-spacing: 0.024px;
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        height: 70px;
    }
    #img-main {
        height: 406px;
    }
    .home-tinnoibat-tinmoi-news-left {
        transition: background-color 1.5s ease, color 1.5s ease;
        background: rgba(224, 224, 224, 30%);
        color: #0D4C92;
    }
    .img-hover:hover .home-tinnoibat-tinmoi-news-left {
        background-color: #0D4C92;
        color: #FFF;
    }
    .img-hover:hover .home-tinnoibat-tinmoi-news-left > a {
        color: #FFF;
    }
    .home-tinnoibat-tinmoi-news-left:hover {
        background-color: #0D4C92;
        color: #FFF;
    }

    .home-tinnoibat-tinmoi-news,
    .home-tinnoibat-tinmoi-news > a,
    .home-tinnoibat-tinmoi-news > span,
    .home-tinnoibat-tinmoi-news > span > p {
        transition: background-color 1.5s ease, color 1.5s ease;
    }
    .home-tinnoibat-tinmoi-news:hover {
        background-color: #0D4C92;
    }
    .home-tinnoibat-tinmoi-news-left:hover > a,
    .home-tinnoibat-tinmoi-news:hover > a,
    .home-tinnoibat-tinmoi-news:hover > span,
    .home-tinnoibat-tinmoi-news:hover > span > p {
        color: #FFF;
    }
    .boder-r::before {
        content: '';
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
        height: 1em;
        border-right: 1px solid #777777;
    }
    .top-5 {
        top: -5px;
    }
    .top-10 {
        top: -10px;
    }
    .border-bottom-1px {
        border-bottom: 1px solid rgba(13, 76, 146, 30%)
    }
    .left-0 {
        left: 0;
    }
    .bgr-opacity-40 {
        background: #000;
        opacity: 40%;
    }
    .text-custom-primary-bg {
        background: rgba(13, 76, 146, 1);
        font-family: Roboto;
        font-size: 22px;
        font-weight: 700;
        line-height: 28.6px;
        letter-spacing: 0.0125em;
        text-align: left;

    }
    .text-2dong {
        text-overflow: ellipsis;
        word-wrap: break-word;
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
    }
    .text-3dong {
        text-overflow: ellipsis;
        word-wrap: break-word;
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 3;
    }
    .text-4dong {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 4;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    .home-tinnoibat-tinmoi-news-left > a {
        font-family: Roboto;
        font-size: 22px;
        font-weight: 700;
        line-height: 28.6px;
        letter-spacing: 0.0125em;
        text-align: left;
        color: #0D4C92;
    }
    .home-tinnoibat-tinmoi-news > a {
        font-family: Roboto;
        font-size: 18px;
        font-weight: 600;
        line-height: 23.4px;
        letter-spacing: 0.0125em;
        text-align: left;
        color: #0D4C92;
    }
    .home-tinnoibat-tinmoi-news > span {
        font-family: Roboto;
        font-size: 14px;
        max-height: 80px;
        font-weight: 400;
        line-height: 18.2px;
        letter-spacing: 0.005em;
        text-align: left;
        color: #2E2E2E;
    }
    .news-category-content{
        background-color: #FFFFFF;
    }

    /* navbar news-categories */

    .nav-pills .nav-link.active {
        color: #0D4C92;
        font-family: Roboto;
        font-size: 18px;
        line-height: 23.4px;
        letter-spacing: 0.0015em;
        text-align: left;
        background: #BCE6FE ;
        font-weight: 700;
    }

    .nav-pills .nav-link {
        font-family: Roboto;
        font-size: 18px;
        font-weight: 500;
        line-height: 23.4px;
        letter-spacing: 0.0015em;
        text-align: center;
        color: #777777;
        background: #BCE6FE ;
    }

    /* section news-categories */
    .red-background-container {
        background-color: #720101;
        height: 400px;

    }

    .content-section-news {
        margin-bottom: 150px;
    }

    .bg-custom-gray-tinnoibat {
        background: rgba(224, 224, 224, 30%);
    }

    .featured-news .bg-custom-gray-tinnoibat {
        background: rgba(224, 224, 224, 30%);
    }

    .w-12 {
        width: 12% !important;
    }
    .w-76 {
        width: 75% !important;
    }

    @media (max-width: 575px){
        #img-main {
            height: fit-content;
			max-width:100%;
			max-height: 270px
        }
    }

    .text-4dong {
        font-size: 14px;
        font-weight: 400;
        line-height: 18.2px;
        letter-spacing: 0.005em;
        text-align: left;
        color: #2E2E2E;
    }

</style>
<div class="home-tinnoibat-tinmoi">
    <div id="chi-dao-content" class="news-category-content p-md-3 active">
        <div class="row">
            <div class="col-lg-6 col-md-12 mb-md-4 mb-lg-0 main-news-container">
                <#assign indexLocal = 0/>
                <#if entries?has_content>
                    <#list entries as curEntry>
                        <#assign
                        renderer = curEntry.getAssetRenderer()
                        className = renderer.getClassName() />
                        <#if className == "com.liferay.journal.model.JournalArticle" && curEntry.getAvailableLanguageIds()?seq_contains(locale) && indexLocal < 1>
                            <#assign
                            title = curEntry.getTitle(locale)
                            article = renderer.getArticle()
                            description = article.getDescription(locale)
                            ddmTemplateKey = article.getDDMTemplateKey()
                            curEntry = curEntry
                            viewURL = "${themeDisplay.getPathFriendlyURLPublic()}${themeDisplay.getSiteGroup().getFriendlyURL()}/-/${renderer.getUrlTitle()}"
                            indexLocal = indexLocal + 1 />
                            <#if curEntry.getAssetRenderer().getThumbnailPath(renderRequest)??>
                                <#assign smallImageUrl = curEntry.getAssetRenderer().getThumbnailPath(renderRequest) >
                            <#else>
                                <#assign smallImageUrl = "/documents/20123/41696/cover-emty-img.jpg" >
                            </#if>
                            <div class="main-news position-relative h-100 pb-3 img-hover">
                                <div class="position-relative px-sm-0 px-lg-0 pe-sm-0 mx-sm-0">
                                    <a href="${htmlUtil.escape(viewURL)}">
                                        <img src="${htmlUtil.escape(smallImageUrl)}" id="img-main" alt="${htmlUtil.escape(title)}" class="w-100 d-block object-fit-cover" />
                                    </a>
                                </div>
                                <div class="custom-left-new-tinnoibat w-100 home-tinnoibat-tinmoi-news-left border-bottom-1px">
                                    <a class="m-0 top-5 text-2dong" id="div-a-main" title="${htmlUtil.escape(title)}" href="${htmlUtil.escape(viewURL)}">
                                        ${htmlUtil.escape(title)}
                                    </a>
                                </div>
                            </div>
                        </#if>
                    </#list>
                </#if>
            </div>
            <div class="col-12 col-md-6 mb-md-4 mb-lg-0 row m-0 p-0 sub-news-container">
                <#assign subNewsCount = 0/>
                <#assign indexLocal = 0/>
                <#if entries?has_content>
                    <#list entries as curEntry>
                        <#assign
                        renderer = curEntry.getAssetRenderer()
                        className = renderer.getClassName() />
                        <#if className == "com.liferay.journal.model.JournalArticle" && curEntry.getAvailableLanguageIds()?seq_contains(locale) && subNewsCount < 4>
                            <#if indexLocal != 0>
                                <#assign
                                title = curEntry.getTitle(locale)
                                article = renderer.getArticle()
                                description = article.getDescription(locale)
                                ddmTemplateKey = article.getDDMTemplateKey()
                                curEntry = curEntry
                                viewURL = "${themeDisplay.getPathFriendlyURLPublic()}${themeDisplay.getSiteGroup().getFriendlyURL()}/-/${renderer.getUrlTitle()}"
                                subNewsCount = subNewsCount + 1 />
                                <#if curEntry.getAssetRenderer().getThumbnailPath(renderRequest)??>
                                    <#assign smallImageUrl = curEntry.getAssetRenderer().getThumbnailPath(renderRequest) >
                                <#else>
                                    <#assign smallImageUrl = "/documents/20123/41696/cover-emty-img.jpg" >
                                </#if>
                                <div class="col-md-6 pb-3 pl-md-0 sub-news-item">
                                    <div class="w-100 h-100 border-bottom-1px home-tinnoibat-tinmoi-news bg-custom-gray-tinnoibat text-decoration-none text-black d-flex flex-column"
                                         data-title="${htmlUtil.escape(title)}" 
                                         data-image="${htmlUtil.escape(smallImageUrl)}">
                                        <a class="text-3dong pt-3 px-2 home-tinnoibat-tinmoi-news-a" 
                                           title="${htmlUtil.escape(title)}" 
                                           href="${htmlUtil.escape(viewURL)}">
                                            ${htmlUtil.escape(title)}
                                        </a>
                                        <span class="pb-3 px-2 pt-2 text-4dong home-tinnoibat-tinmoi-news-span">
                                            ${htmlUtil.extractText(description)}
                                        </span>
                                    </div>
                                </div>
                            </#if>
                            <#assign indexLocal = indexLocal + 1 />
                        </#if>
                    </#list>
                </#if>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const subNewsItems = document.querySelectorAll('.sub-news-item');
        const mainNewsImage = document.querySelector('#img-main');
        const mainNewsTitle = document.querySelector('#div-a-main');

        // Lưu trữ thông tin mặc định của main news
        const defaultMainNews = {
            title: mainNewsTitle.textContent,
            image: mainNewsImage.src,
            link: mainNewsTitle.closest('a').getAttribute('href')
        };

        function sanitizeHTML(str) {
            const div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }

        subNewsItems.forEach(item => {
            // Xử lý sự kiện hover
            item.addEventListener('mouseover', function() {
                const title = sanitizeHTML(this.querySelector('.home-tinnoibat-tinmoi-news').getAttribute('data-title'));
                const image = this.querySelector('.home-tinnoibat-tinmoi-news').getAttribute('data-image');
                const link = this.querySelector('.home-tinnoibat-tinmoi-news-a').getAttribute('href');

                if (mainNewsImage && title && image) {
                    mainNewsImage.src = image;
                    mainNewsTitle.textContent = title;
                    mainNewsTitle.setAttribute('title', title);
                    const parentLink = mainNewsTitle.closest('a');
                    if (parentLink && link) {
                        parentLink.setAttribute('href', link);
                    }
                }
            });

            // Xử lý sự kiện khi không hover nữa
            item.addEventListener('mouseout', function() {
                mainNewsImage.src = defaultMainNews.image;
                mainNewsTitle.textContent = defaultMainNews.title;
                mainNewsTitle.setAttribute('title', defaultMainNews.title);
                const parentLink = mainNewsTitle.closest('a');
                if (parentLink) {
                    parentLink.setAttribute('href', defaultMainNews.link);
                }
            });
        });
    });
</script>